{"remainingRequest":"H:\\Projects\\filemanageronline\\node_modules\\babel-loader\\lib\\index.js!H:\\Projects\\filemanageronline\\node_modules\\vuetify-loader\\lib\\loader.js!H:\\Projects\\filemanageronline\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!H:\\Projects\\filemanageronline\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!H:\\Projects\\filemanageronline\\src\\components\\FileManager.vue?vue&type=script&lang=js&","dependencies":[{"path":"H:\\Projects\\filemanageronline\\src\\components\\FileManager.vue","mtime":1561369427718},{"path":"H:\\Projects\\filemanageronline\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"H:\\Projects\\filemanageronline\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"H:\\Projects\\filemanageronline\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1549812933000},{"path":"H:\\Projects\\filemanageronline\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"H:\\Projects\\filemanageronline\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"H:\\\\Projects\\\\filemanageronline\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport TextView from \"@/components/TextView\";\nimport ImageView from \"@/components/ImageView\";\nexport default {\n  data: function data() {\n    return {\n      dialog: false,\n      search: \"\",\n      progress: false,\n      deleting: false,\n      selectedItem: '',\n      headers: [{\n        text: \"Имя файла\",\n        value: \"Names\"\n      }, {\n        text: \"Размер\",\n        value: \"Size\"\n      }, {\n        text: \"Дата модификации\",\n        value: \"ModificationDate\"\n      }]\n    };\n  },\n  components: {\n    TextView: TextView,\n    ImageView: ImageView\n  },\n  computed: {\n    path: function path() {\n      return \"../\" + this.$store.getters.getFilesPath;\n    },\n    filesInfo: function filesInfo() {\n      return this.$store.getters.getFilesInfo;\n    }\n  },\n  watch: {},\n  created: function created() {\n    this.$store.dispatch(\"GetFilesPath\");\n    this.$store.dispatch(\"GetFilesInfo\");\n  },\n  methods: {\n    uploadFiles: function uploadFiles() {\n      this.$refs.file.click();\n    },\n    submitFile: function () {\n      var _submitFile = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var formData;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.progress = true;\n                this.file = this.$refs.file.files[0];\n                formData = new FormData();\n                formData.append(\"file\", this.file);\n                _context.next = 6;\n                return this.$store.dispatch(\"UploadFile\", formData);\n\n              case 6:\n                this.progress = false;\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function submitFile() {\n        return _submitFile.apply(this, arguments);\n      }\n\n      return submitFile;\n    }(),\n    deleted: function deleted(item) {\n      this.dialog = true;\n      this.selectedItem = item;\n    },\n    deletItem: function () {\n      var _deletItem = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2(item) {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.deleting = true;\n                _context2.next = 3;\n                return this.$store.dispatch(\"DeleteFile\", this.selectedItem.Path);\n\n              case 3:\n                _context2.next = 5;\n                return this.$store.dispatch(\"GetFilesInfo\");\n\n              case 5:\n                this.deleting = false;\n                this.dialog = false;\n\n              case 7:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function deletItem(_x) {\n        return _deletItem.apply(this, arguments);\n      }\n\n      return deletItem;\n    }(),\n    view: function view(item) {\n      switch (item.TypeFiles) {\n        case 0:\n          this.$store.dispatch(\"SetViewImag\", true);\n          break;\n\n        case 1:\n          this.$store.dispatch(\"SetViewText\", true);\n          break;\n\n        case 2:\n          alert(\"No\");\n          break;\n      }\n\n      this.$store.dispatch(\"SetFileInfo\", item);\n    }\n  }\n};",{"version":3,"sources":["FileManager.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <v-card-title>\n      <v-toolbar-title>Файлы в папке {{path}}</v-toolbar-title>\n      <v-spacer></v-spacer>\n      <v-text-field\n        v-model=\"search\"\n        append-icon=\"search\"\n        label=\"Поиск\"\n        single-line\n        hide-details\n        color=\"cyan darken-3\"\n      ></v-text-field>\n    </v-card-title>\n    <v-data-table\n      :headers=\"headers\"\n      :items=\"filesInfo\"\n      :search=\"search\"\n      :loading=\"progress\"\n      rows-per-page-text=\"Строк на странице\"\n    >\n      <template slot=\"items\" slot-scope=\"props\">\n        <td>{{ props.item.Names }}</td>\n        <td class=\"text-xs-left\">{{ props.item.Size }} Mb</td>\n        <td class=\"text-xs-left\">{{ props.item.ModificationDate }}</td>\n        <td>\n          <v-tooltip bottom v-if=\"props.item.TypeFiles !== 2\">\n            <v-btn  slot=\"activator\" color=\"blue darken-1\" dark fab small @click=\"view(props.item)\">\n              <v-icon>description</v-icon>\n            </v-btn>\n            <span>Просмотр</span>\n          </v-tooltip>\n          <v-tooltip bottom>\n            <v-btn\n              slot=\"activator\"\n              color=\"red\"\n              dark\n              fab\n              small\n              @click=\"deleted(props.item)\"\n            >\n              <v-icon>delete_forever</v-icon>\n            </v-btn>\n            <span>Удалить файл</span>\n          </v-tooltip>\n        </td>\n      </template>\n      <v-alert\n        slot=\"no-results\"\n        :value=\"true\"\n        color=\"error\"\n        icon=\"warning\"\n      >По вашему запросу \"{{ search }}\" ни чего не найдено.</v-alert>\n    </v-data-table>\n    <v-btn color=\"info\" @click=\"uploadFiles\" :loading=\"progress\">Добавить файл</v-btn>\n    <input style=\"display: none\" type=\"file\" id=\"file\" ref=\"file\" v-on:change=\"submitFile()\">\n    <TextView></TextView>\n    <ImageView></ImageView>\n\n    <v-layout row justify-center>\n      <v-dialog v-model=\"dialog\" persistent max-width=\"400\">\n        <v-card>\n          <v-card-title class=\"headline\">Вы хотите удалить {{selectedItem.Names}}?</v-card-title>\n          <v-card-actions>\n            <v-spacer></v-spacer>\n            <v-btn color=\"blue darken-1\" flat @click=\"dialog = false\">Отмена</v-btn>\n            <v-btn color=\"red darken-1\" :loading=\"deleting\" flat @click=\"deletItem\">Подтвердить</v-btn>\n          </v-card-actions>\n        </v-card>\n      </v-dialog>\n    </v-layout>\n  </div>\n</template>\n<script>\nimport TextView from \"@/components/TextView\";\nimport ImageView from \"@/components/ImageView\";\n\nexport default {\n  data: () => ({\n    dialog: false,\n    search: \"\",\n    progress: false,\n    deleting: false,\n    selectedItem: '',\n    headers: [\n      { text: \"Имя файла\", value: \"Names\" },\n      { text: \"Размер\", value: \"Size\" },\n      { text: \"Дата модификации\", value: \"ModificationDate\" }\n    ]\n  }),\n\n  components: {\n    TextView,\n    ImageView\n  },\n\n  computed: {\n    path() {\n      return \"../\" + this.$store.getters.getFilesPath;\n    },\n    filesInfo() {\n      return this.$store.getters.getFilesInfo;\n    }\n  },\n\n  watch: {},\n\n  created() {\n    this.$store.dispatch(\"GetFilesPath\");\n    this.$store.dispatch(\"GetFilesInfo\");\n  },\n\n  methods: {\n    uploadFiles() {\n      this.$refs.file.click();\n    },\n    async submitFile() {\n      this.progress = true;\n      this.file = this.$refs.file.files[0];\n      let formData = new FormData();\n      formData.append(\"file\", this.file);\n\n      await this.$store.dispatch(\"UploadFile\", formData);\n      this.progress = false;\n    },\n    deleted(item) {\n      this.dialog = true;\n      this.selectedItem = item;\n    },\n    async deletItem(item) {\n      this.deleting = true;\n      await this.$store.dispatch(\"DeleteFile\", this.selectedItem.Path);\n      await this.$store.dispatch(\"GetFilesInfo\");\n      this.deleting = false;\n      this.dialog = false;\n    },\n    view(item) {\n      switch (item.TypeFiles) {\n        case 0:\n          this.$store.dispatch(\"SetViewImag\", true);\n          break;\n        case 1:\n          this.$store.dispatch(\"SetViewText\", true);\n          break;\n        case 2:\n          alert(\"No\");\n          break;\n      }\n      this.$store.dispatch(\"SetFileInfo\", item);\n    }\n  }\n};\n</script>"],"sourceRoot":"src/components"}]}